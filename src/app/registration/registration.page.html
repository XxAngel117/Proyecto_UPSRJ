<ion-header> 
  <ion-toolbar color="medium">
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>Registro</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>

  <ion-card align="center" color="medium">

  <ion-item lines="full">
      <ion-label position="floating">Matricula</ion-label>
      <ion-input [clearInput]="true" placeholder="Student" id="student" color="dark"  type="number" (focusout)="CheckNo()" align="center" required>
      </ion-input>
  </ion-item>

  <ion-item lines="full">
    <ion-label position="floating">Nombre</ion-label>
    <input type="text" id="id_u" hidden="true">
    <input type="text" id="role" hidden="true">
    <input type="text" id="type" hidden="true">
    <input type="text" id="status" hidden="true">
    <ion-input [clearInput]="true" placeholder="Name" id="name" color="dark" align="center" required>
    </ion-input>
  </ion-item>

  <ion-item lines="full"> 
    <ion-label position="floating">Apellido Paterno</ion-label>
    <ion-input [clearInput]="true" placeholder="P.Last Name" id="lastname" color="dark" align="center" required>
    </ion-input>
  </ion-item>

  <ion-item lines="full">
    <ion-label position="floating">Apellido Materno</ion-label>
    <ion-input [clearInput]="true" placeholder="M.Last Name" id="lastnamem" color="dark" align="center" required>
    </ion-input>
  </ion-item>

  <ion-item lines="full">
    <ion-label position="floating">Inclusión</ion-label>
    <ion-input [clearInput]="true" placeholder="Inclusion" id="inclusion" color="dark" align="center" required>
    </ion-input>
  </ion-item>

  <ion-item lines="full">
    <ion-label position="floating">Generación</ion-label>
    <ion-input [clearInput]="true" placeholder="Generation" id="generation" color="dark" align="center" required>
    </ion-input>
  </ion-item>

  <ion-item lines="full">
    <ion-label position="floating">Grupo</ion-label>
    <ion-input [clearInput]="true" placeholder="Group" id="group" color="dark" align="center" required>
    </ion-input>
  </ion-item>

  <ion-item lines="full">
    <ion-label position="floating">Genero</ion-label>
    <ion-input [clearInput]="true" placeholder="Genre" id="genre" color="dark" align="center" required>
    </ion-input>
  </ion-item>

  <ion-item lines="full">
    <ion-label position="floating">Cuatrimestre</ion-label>
    <ion-input [clearInput]="true" placeholder="Quarter" id="quarter" color="dark" align="center" required>
    </ion-input>
  </ion-item>

  <ion-item lines="full">
    <ion-label position="floating">Carrera</ion-label>
    <ion-input [clearInput]="true" placeholder="Degree" id="degree" color="dark" align="center" required>
    </ion-input>
  </ion-item>

  <ion-item lines="full">
    <ion-label position="floating">Id_Key</ion-label>
    <ion-input [clearInput]="true" placeholder="Id_1" id="id_1" color="dark" type="number" (focusout)="CheckKey1()" align="center" required>
    </ion-input>
  </ion-item>

  <ion-item lines="full">
    <ion-label position="floating">Id_Key2</ion-label>
    <ion-input [clearInput]="true" placeholder="Id_2" id="id_2" color="dark" type="number" (focusout)="CheckKey2()"  align="center" required>
    </ion-input>
  </ion-item>

  <div id="preloader_u" align="center" style="display: none">
        <img src="../assets/icon/loading-icon.gif" alt="validating...">
    </div>

    <br>

  <div align="center">
    <ion-button (click)="SaveRegistration()" id="savebutton_u" color="dark" shape="round" >
      <ion-icon slot="end" name="save-outline"></ion-icon>
        Guardar
      </ion-button>

    <ion-button (click)="UpdateRegistration()" id="updatebutton_u" hidden="medium" color="primary" shape="round" >
      <ion-icon slot="end" name="reload-circle-outline"></ion-icon>   
        Actualizar
    </ion-button>

    <ion-button (click)="Cancel()" id="cancelbutton_u" hidden="medium" color="danger" shape="round" >
      <ion-icon slot="end" name="close-outline"></ion-icon>   
        Cancelar
    </ion-button>
  </div>

</ion-card>
  
  <ion-item color="medium">
    <ion-icon name="list-outline" slot="start"></ion-icon>
    <ion-label > Registro de estudiantes </ion-label>
  </ion-item>

  <ion-toolbar>

    <ion-searchbar placeholder = "Buscar" animated (ionChange)="searchRegistration($event)"></ion-searchbar>

  </ion-toolbar>

  <ion-item *ngFor="let u of filteredRegistrations">
    <ion-card style="width: 100%;" align="center" color="dark">
      <ion-label>

      <br>
        
        <p>ID key 1</p>
        <h1>{{u.Id_Key}}</h1>
        <br>
        <p>Id Key 2</p>
        <h1>{{u.Id_Key2}}</h1>
        <br>
        <p>Matricula</p>
        <h1>{{u.matricula}}</h1>
        <br>
        <p>Nombre</p>
        <h1>{{u.nombre}}</h1>
        <br>
        <p>Apellido Paterno</p>
        <h1>{{u.apellidop}}</h1>
        <br>
        <p>Apellido Materno</p>
        <h1>{{u.apellidom}}</h1>
        <br>
        <p>Inclusión</p>
        <h1>{{u.inclusion}}</h1>
        <br>
        <p>Generación</p>
        <h1>{{u.generacion}}</h1>
        <br>
        <p>Grupo</p>
        <h1>{{u.grupo}}</h1>  
        <br>
        <p>Género</p>
        <h1>{{u.genero}}</h1>  
        <br>
        <p>Cuatrimestre</p>
        <h1>{{u.cuatrimestre}}</h1>  
        <br>
        <p>Carrera</p>
        <h1>{{u.carrera}}</h1>  
        <br>

      </ion-label>
    
    </ion-card>
  </ion-item>
  
  <ion-item *ngIf="filteredRegistrations.length === 0">
    <p>Se muestran los siguientes resultados</p>
  </ion-item>

  <ion-item *ngFor="let u of registrations">
    <ion-card style="width: 100%;" align="center" color="dark">
      <ion-label>

        <ion-buttons>
        
          <ion-button (click)="EditRegistration(u.id_alumno)" id="editbutton" style="font-size: 20px;" >
            <ion-icon name="create-outline" color="primary"></ion-icon>
          </ion-button>

          <ion-button (click)="DeleteRegistration(u.id_alumno)" id="deletebutton" style="font-size: 20px;">
            <ion-icon name="trash-bin-outline" color="danger"></ion-icon>
          </ion-button>

        </ion-buttons> 

        <br>

        <p>ID key 1</p>
        <h1>{{u.Id_Key}}</h1>
        <br>
        <p>Id Key 2</p>
        <h1>{{u.Id_Key2}}</h1>
        <br>
        <p>Matricula</p>
        <h1>{{u.matricula}}</h1>
        <br>
        <p>Nombre</p>
        <h1>{{u.nombre}}</h1>
        <br>
        <p>Apellido Paterno</p>
        <h1>{{u.apellidop}}</h1>
        <br>
        <p>Apellido Materno</p>
        <h1>{{u.apellidom}}</h1>
        <br>
        <p>Inclusión</p>
        <h1>{{u.inclusion}}</h1>
        <br>
        <p>Generación</p>
        <h1>{{u.generacion}}</h1>
        <br>
        <p>Grupo</p>
        <h1>{{u.grupo}}</h1>  
        <br>
        <p>Género</p>
        <h1>{{u.genero}}</h1>  
        <br>
        <p>Cuatrimestre</p>
        <h1>{{u.cuatrimestre}}</h1>  
        <br>
        <p>Carrera</p>
        <h1>{{u.carrera}}</h1>  
        <br>

      </ion-label>

      <br>
      
    </ion-card>
      
  </ion-item>
  
</ion-content>
